### Hibernate에서 dirty checking은 엔티티 객체의 변경사항을 감지하여 데이터베이스와의 동기화를 자동으로 처리하는 기능.
이를 통해 개발자는 엔티티 객체를 데이터베이스에 저장하기 전에 변경된 부분을 수동으로 확인하고 업데이트할 필요가 없어진다.

### dirty checking이 이루어지는 과정
#### 1. 엔티티의 스냅샷 저장</br>
엔티티가 영속성 컨텍스트(일반적으로 EntityManager)에 처음 저장될 때, JPA는 엔티티의 초기 상태를 내부적으로 저장합니다. 이 초기 상태는 엔티티의 모든 속성 값을 포함한 스냅샷 형태로 유지됩니다.

#### 2. 엔티티 상태 변경</br>
애플리케이션 코드에서 엔티티의 속성 값을 변경합니다. 이 변경은 메모리 내에서 이루어지며, 아직 데이터베이스에는 반영되지 않습니다.

#### 3. 트랜잭션 커밋 또는 플러시 발생</br>
트랜잭션이 커밋되거나 EntityManager의 flush() 메서드가 호출되면, JPA는 영속성 컨텍스트 내의 모든 엔티티를 검사하여 변경된 엔티티를 찾습니다.

#### 4. 변경 사항 비교</br>
JPA는 현재 엔티티의 상태를 초기 스냅샷과 비교하여 변경된 속성을 감지합니다.

#### 5. SQL 생성 및 실행</br>
변경된 엔티티가 있는 경우, JPA는 해당 변경 사항을 반영하는 적절한 SQL 명령문(주로 UPDATE)을 생성하고 실행합니다. 이 명령문은 데이터베이스에 전달되어 엔티티의 변경된 속성이 데이터베이스에 반영됩니다.

#### 6. 스냅샷 업데이트</br>
SQL 명령문이 성공적으로 실행되면, JPA는 엔티티의 현재 상태를 새로운 스냅샷으로 업데이트합니다.

#### 업데이트 되는 스냅샷은 1차캐시에 저장 -> DB에 적용되는 시점은 해당 트랜잭션이 끝날 때 1차캐시에 저장되어 있던 스냅샷이 DB에 업데이트
